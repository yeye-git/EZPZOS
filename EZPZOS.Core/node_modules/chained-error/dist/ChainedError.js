"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class ChainedError extends Error {
    constructor(message, cause) {
        let inner;
        if (message instanceof Error) {
            super(message.message);
            inner = message;
            this.stack = this.stack + '\nCaused By: ' + message.stack;
        }
        else if (arguments.length <= 1) {
            super(message);
            inner = message;
            this.stack = this.stack + '\nCaused By: ' + cause;
        }
        else {
            super(message);
            inner = cause;
            if (cause instanceof Error) {
                this.stack = this.stack + '\nCaused By: ' + cause.stack;
            }
            else {
                this.stack = this.stack + '\nCaused By: ' + cause;
            }
        }
        Object.defineProperty(this, 'cause', {
            value: inner,
            writable: true,
            enumerable: false,
            configurable: true
        });
    }
}
exports.default = ChainedError;
//# sourceMappingURL=ChainedError.js.map